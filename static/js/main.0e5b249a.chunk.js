(this.webpackJsonpcongressbook=this.webpackJsonpcongressbook||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),s=a(5),i=a(6),o=a(8),u=a(7),m=a(9),d=a(11),h=a(2),b=Object(h.a)(),v=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header__title"},r.a.createElement("span",null,"Test")," ",r.a.createElement("b",null,"Leniolabs")),r.a.createElement("span",{className:"header__subtitle"},"Congress 115 and Senate Chamber List"))},E=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("span",{className:"footer__title"}," \xa9 Copyright 2019 - ProPublica Congress List App "))},p=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(v,null),r.a.createElement("div",{className:"content__container"},this.props.children),r.a.createElement(E,null))}}]),t}(n.Component),f=a(16),g=a.n(f),_="mWa4Dy80qAn0Gq7xdjT4OfP4M2c8t2yPuYHrAEfM",y=function(e){var t=e.value,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("input",{className:"searchbar__input",placeholder:"Search here...",value:t,onChange:function(e){return a(e)}}))},P=function(e){var t=e.showAdvanceSearch,a=e.membersKeys,n=e.onSearch,c=e.setSearchKey,l=e.toggleAdvancedSearchbar;return r.a.createElement("div",{className:"searchbar"},r.a.createElement(y,{onChange:n}),t&&r.a.createElement("div",null,r.a.createElement("select",{className:"searchbar__select",id:"params",onChange:function(e){return c(e)}},r.a.createElement("option",{key:"all",value:""},"Search All"),Object.keys(a).map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("button",{className:"searchbar__button",onClick:function(){return l()}},"Advanced Search"))},k=function(e){for(var t=e.membersPerPage,a=e.currentPage,n=e.list,c=e.onClick,l=e.handleNextPage,s=e.handlePreviousPage,i=[],o=1;o<=Math.ceil(n.length/t);o++)i.push(o);var u=a===i.length,m=1===a;return r.a.createElement("div",{className:"paginator"},r.a.createElement("button",{className:"paginator__button",disabled:m,onClick:function(){return s()}},"Previous"),i.map((function(e){return r.a.createElement("div",{key:e,id:e,className:"paginator__page "+(e===a?"paginator__page--active":null),onClick:function(e){return c(e)}},e)})),r.a.createElement("button",{className:"paginator__button",disabled:u,onClick:function(){return l()}},"Next"))},N=a(13),j=function(e){var t=e.member;return r.a.createElement(N.a,{to:"/".concat(t.id,"/details"),className:"booklist__row",key:t.id},r.a.createElement("div",null,t.first_name),r.a.createElement("div",null,t.last_name),r.a.createElement("div",null,t.short_title),r.a.createElement("div",null,t.title),r.a.createElement("div",null,t.state_rank),r.a.createElement("div",null,t.phone))},O=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("span",{className:"loader__icon"}),r.a.createElement("p",null,"Your data is loading, wait a second!"))},S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setData=function(e){var t=e.data.results;a.setState({data:t[0],list:t[0].members,loaded:!0})},a.onSearch=function(e){var t=a.state.searchKey,n=a.state.data.members;n=n.filter((function(a){return Object.keys(a).find((function(n){var r=t||n;return!("string"!==typeof a[r]||!a[r].includes(e.target.value))}))?a:null})),a.setState({list:n})},a.toggleAdvancedSearchbar=function(){var e=a.state.showAdvanceSearch;a.setState({showAdvanceSearch:!e})},a.setSearchKey=function(e){var t=e.target.value;a.setState({searchKey:t})},a.handlePagination=function(e){a.setState({currentPage:Number(e.target.id)})},a.handleNextPage=function(){a.setState({currentPage:a.state.currentPage+1})},a.handlePreviousPage=function(){a.setState({currentPage:a.state.currentPage-1})},a.state={data:{members:[]},list:[],currentPage:1,membersPerPage:7,showAdvanceSearch:!1,loaded:!1,searchKey:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this;(e=115,t="senate",g.a.get("https://api.propublica.org/congress/v1/".concat(e,"/").concat(t,"/members.json"),{headers:{"X-API-Key":_}})).then((function(e){a.setData(e)}))}},{key:"render",value:function(){var e=this.state,t=e.list,a=e.currentPage,n=e.membersPerPage,c=e.showAdvanceSearch,l=e.data,s=e.loaded,i=a*n,o=i-n,u=t.slice(o,i).map((function(e,t){return r.a.createElement(j,{key:e.id,member:e})}));return s?r.a.createElement("div",{className:"booklist"},r.a.createElement(P,{showAdvanceSearch:c,membersKeys:l.members[0]||[],setSearchKey:this.setSearchKey,onSearch:this.onSearch,toggleAdvancedSearchbar:this.toggleAdvancedSearchbar}),r.a.createElement("div",{className:"booklist__header"},r.a.createElement("div",null,"First Name"),r.a.createElement("div",null,"Last Name"),r.a.createElement("div",null,"Short Title"),r.a.createElement("div",null,"Title"),r.a.createElement("div",null,"State Rank"),r.a.createElement("div",null,"Phone Number")),0===t.length?r.a.createElement("div",null,"No se han encontrado resultados..."):r.a.createElement("div",null,r.a.createElement("div",{className:"booklist__body"},u),r.a.createElement("div",null,r.a.createElement(k,{currentPage:a,handleNextPage:this.handleNextPage,handlePreviousPage:this.handlePreviousPage,onClick:this.handlePagination,membersPerPage:n,list:t})))):r.a.createElement(O,null)}}]),t}(n.Component),C=function(e){var t=e.title,a=e.value,n=e.loaded?r.a.createElement("b",null,"".concat(a)):r.a.createElement("div",{className:"details__loading"});return r.a.createElement("div",null,r.a.createElement("b",null,t,": "),n)},A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.setMember=function(e){a.setState({member:e})},a.isEmpty=function(e){return!e||0===Object.keys(e).length},a.state={member:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,function(e){return g.a.get("https://api.propublica.org/congress/v1/members/".concat(e,".json"),{headers:{"X-API-Key":_}})}(this.props.match.params.id).then((function(t){e._isMounted&&e.setMember(t.data.results[0])}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.member,t=!!e.member_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{to:"/",className:"details__button",key:e.id},"Go Back!"),r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"details__title"},r.a.createElement(C,{title:"Congressman",loaded:t,value:"".concat(e.first_name," ").concat(e.last_name)})),r.a.createElement("div",{className:"details__body"},r.a.createElement(C,{title:"Date of Birth",loaded:t,value:e.date_of_birth}),r.a.createElement(C,{title:"Gender",loaded:t,value:e.gender}),r.a.createElement(C,{title:"Facebook Account",loaded:t,value:e.facebook_account}),r.a.createElement(C,{title:"Twitter Account",loaded:t,value:e.twitter_account}),r.a.createElement(C,{title:"Current Party",loaded:t,value:e.current_party})),r.a.createElement("div",{className:"details__footer"},r.a.createElement("span",null,"You can see more in: "),r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},"Personal Member Website"))))}}]),t}(n.Component),M=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.b,{history:b},r.a.createElement(p,this.props,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/:id/details",exact:!0,render:function(t){return r.a.createElement(A,Object.assign({},e.props,t))}}),r.a.createElement(d.a,{path:"/",render:function(t){return r.a.createElement(S,Object.assign({},e.props,t))}}))))}}]),t}(n.Component),w=(a(59),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(M,this.props)}}]),t}(n.Component));a(60);document.addEventListener("DOMContentLoaded",(function(){l.a.render(r.a.createElement(w,null),document.getElementById("root"))}))}},[[32,1,2]]]);
//# sourceMappingURL=main.0e5b249a.chunk.js.map